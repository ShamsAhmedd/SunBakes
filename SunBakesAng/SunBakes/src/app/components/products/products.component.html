<div class="imagee" *ngIf="headerImg" [ngStyle]="{ 'background-image': 'url(' + headerImg + ')' }" style="background-size: cover; background-position: center;">
  <div class="container py-5">
    <div class="row justify-content-center py-5">
      <div class="col-lg-10 pt-lg-5 mt-lg-5 text-center">
        <h1 class="display-3 text-white animated slideInDown texxt">
          {{ products[0].category.title }}
          <br><br>
        </h1>
        <div class="position-relative w-75 mx-auto" style="margin-top: 7%;">
          <input class="form-control border-0 rounded-pill w-100 py-3 ps-4 pe-5" type="text" placeholder="Search..." [(ngModel)]="searchTerm"/>
          <button id="buttonStyle" type="button" class="btn btn-primary rounded-pill py-2 px-4 position-absolute top-0 end-0 me-2" (click)="scrollToProducts()">
            Search
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="products.length > 0" class="container-xxl py-2">
  <div class="container">
    <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
      <h6 class="section-title bg-white text-center text-primary px-3">
        {{ products[0].category.title }}
      </h6>
      <h1 class="text-primary mb-5">Discover Our Products</h1>
    </div>
  </div>
</div>

<section #productsSection class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-3 mb-4" *ngFor="let item of products | search:searchTerm">
      <a [routerLink]="['/details', item._id]" class="card-link">
        <div class="card h-100 d-flex flex-column shadow-sm">
          <div class="image-container">
            <img [src]="item.imageCover" class="card-img-top" [alt]="item.title" style="width: 100%;">
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title text-primary text-center">{{ item.category.title }}</h5>
            <h6 class="card-subtitle mb-4 text-dark text-center">{{ item.title }}</h6>
            <div class="mt-auto">
              <div class="card-text text-muted d-flex justify-content-between align-items-center">
                <span>{{ item.price | currency:' EGP ' }}</span>
                <div class="d-flex align-items-center">
                  <i class="fas fa-star text-warning"></i>
                  <span class="ms-2">{{ item.ratingAverage }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </a>
    </div>
  </div>
</section>
